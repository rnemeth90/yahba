# YAHBA - Yet Another HTTP Benchmark Application

YAHBA is a high-performance HTTP load testing tool designed to stress test your HTTP servers with customizable options like request rate, concurrency, headers, and more.

---

## Features

- **Customizable Load Tests**: Configure requests per second (RPS), number of requests, HTTP methods, headers, and payloads.
- **Advanced Options**: Support for proxies, custom DNS resolvers, and HTTP/2.
- **Output Formats**: Generate reports in `json`, `yaml`, or `raw` formats.
- **Extensibility**: Easy integration with CI/CD pipelines and Kubernetes.

---

## Installation

### Using Go

go install github.com/rnemeth90/yahba@latest

### Build from Source

1. Clone the repository:
   `git clone https://github.com/rnemeth90/yahba.git`
2. Navigate to the project directory:
   `cd yahba`
3. Build the binary:
   `go build -o yahba .`
4. Move the binary to your PATH:
   `mv yahba /usr/local/bin/`

---

## Usage

### Basic Usage

Run a simple load test:
`yahba --url=http://example.com --requests=100 --rps=10`

### Options

| Option               | Default    | Description                                                                 |
| -------------------- | ---------- | --------------------------------------------------------------------------- |
| `--url` or `-u`      | (required) | The target URL to stress test. Includes protocol (`http://` or `https://`). |
| `--requests` or `-r` | `4`        | Total number of requests to send.                                           |
| `--rps`              | `1`        | Requests per second (RPS).                                                  |
| `--method` or `-m`   | `GET`      | HTTP method to use (`GET`, `POST`, etc.).                                   |
| `--headers` or `-H`  | `""`       | Custom headers as `Key1:Value1,Key2:Value2`.                                |
| `--body` or `-b`     | `""`       | Request payload (e.g., JSON or form data).                                  |
| `--timeout` or `-t`  | `10`       | Request timeout in seconds.                                                 |
| `--insecure` or `-i` | `false`    | Disable SSL/TLS verification.                                               |
| `--proxy` or `-P`    | `""`       | Proxy server in `IP:Port` format.                                           |
| `--output-format`    | `raw`      | Output format (`raw`, `json`, `yaml`).                                      |
| `--out`              | `stdout`   | File path for saving results.                                               |

---

## Examples

### Basic Load Test

`yahba --url=http://example.com --requests=100 --rps=10`

### Test with Custom Headers

`yahba --url=https://api.example.com --headers="Authorization:Bearer abc123,Content-Type:application/json"`

### Send POST Requests with Payload

`yahba --url=https://api.example.com --method=POST --body='{"key":"value"}'`

### Use a Proxy

`yahba --url=http://example.com --proxy="http://proxy.example.com:8080"`

### Save Results in JSON

`yahba --url=http://example.com --output-format=json > results.json`

---

## Output Formats

### Raw

```
=========================
 YAHBA Stress Test Report
=========================

Total Requests:      1000
Successes:           950 (95.00%)
Failures:            50 (5.00%)

Latency Metrics:
  Min:               10ms
  Max:               250ms
  Avg:               50ms
  P50 (Median):      45ms
  P95:               200ms
  P99:               240ms

Throughput:
  Total Bytes Sent:     500,000
  Total Bytes Received: 4,500,000
```

### JSON

```
{
  "total_requests": 1000,
  "successes": 950,
  "failures": 50,
  "latency": {
    "min": "10ms",
    "max": "250ms",
    "avg": "50ms",
    "p50": "45ms",
    "p95": "200ms",
    "p99": "240ms"
  },
  "throughput": {
    "bytes_sent": 500000,
    "bytes_received": 4500000
  }
}
```

---

## Contributing

Contributions are welcome! To get started:

1. Fork the repository.
2. Create a new branch:
   git checkout -b feature-name
3. Make your changes and commit them:
   git commit -m "Description of your changes"
4. Push to your fork:
   git push origin feature-name
5. Open a pull request.

---

## License

This project is licensed under the MIT License. See the [LICENSE](LICENSE) file for details.
